# Network

## 브라우저의 렌더링 동작과정

1. 유저가 웹 브라우저에 URL을 입력한다. 
2. URL로 지정한 웹 서버에게 HTTP 요청을 송신한다. 
3. 웹 서버가 요청을 해석한다. 
4. 웹 서버가 요청받은 파일을 웹 브라우저에 돌려보낸다. 
5. 웹 브라우저가 수신한 데이터를 해석해서 표시한다.

## URL(Uniform Resource Locator)

- **인터넷상의 `데이터 위치`를 가리키는 표준적인 표기법**
- 스킴://호스트명/패스 ex) http://www.n-study.com/network/index.html
- www.n-study.com 이라는 웹 서버가 디렉토리 network 내의 index.html을 HTTP로 전송하도록 요청하는 내용
- 호스트명 뒤 포트번호가 생략된 경우에는 HTTP의 잘 알려진 포트인 TCP `80번`으로 연결

## HTTP(Hyper Text Transfer Protocol)

- **웹 서버에 존재하는 HTML 파일이나 이미지 파일을 PC의 `웹 브라우저로 전송`하기 위한 `프로토콜`**
- HTTP 프로토콜을 사용한 파일 전송은 `HTTP 요청`과 `HTTP 응답`을 주고받음으로써 이루어진다. 
- HTTP 요청 (요청 행, 메시지 헤더, 빈행, 엔티티 바디)
    - 요청 행: 메소드
- HTTP 응답 (상태 행, 메시지 헤더, 빈행, 엔티티 바디)
    - 상태 행: 상태 코드

### 주요 HTTP 메소드

 - GET: URI로 지정한 데이터를 `가져온다.` 
 - POST: URI로 지정한 서버의 커맨드에 대해 데이터를 `송신한다.` 
 - PUT: URI로 지정한 데이터를 전송한 데이터로 `덮어쓴다.` 

 ### 주요 HTTP 상태 코드

 - 1XX: 정보 - 추가 정보가 있다는 것을 알린다. 
 - 2XX: 성공 - 서버가 요청을 성공적으로 처리했다는 것을 알린다. 
 - 3XX: 리다이렉트 - 다른 URI로 다시 요청을 보낼 것을 요구한다. 
 - 4XX: 클라이언트 에러 - 요청에 문제가 있어 처리하지 못했다는 것을 알린다. 
 - 5XX: 서버 에러 - 서버 쪽에 문제가 있어 처리하지 못했다는 것을 알린다.

## 포트 번호
- **포트 번호는 PC나 서버상에서 동작하는 애플리케이션 그 자체를 식별하기 위한 정보**
- `포트 번호를 기반`으로 애플리케이션 데이터를 분배하는 역할을 하는 프로토콜이 `TCP`와 `UDP` 이다. 

 ## TCP

 - **애플리케이션 간의 데이터 전달에 사용되는 프로토콜**
 - TCP에는 애플리케이션 간의 데이터 전달 외에도 데이터를 분할하는 기능이 있다. 
 - MSS(Maximum Segment Size)를 넘을 경우 TCP에서 데이터를 여러개로 분할
 - TCP 헤더를 추가한 애플리케이션 데이터를 TCP 세그먼트라고 부른다. 
 ex) IP헤더 + TCP헤더 + HTTP헤더

 ## Three-way handshake

 - 말 그대로 데이터 전송을 수행하는 애플리케이션끼리 '인사를 3번 함'으로써 연결을 성립하는 것을 말한다. 
 - 애플리케이션 간에 신뢰성 있는 데이터 전송 수행<br>
 ex) [연결] 연결해도 될까요? -> 네. 이쪽에서도 연결하겠습니다 -> 알겠습니다<br> 
 ex) [종료] 연결을 종료해도 될까요? -> 네. 괜찮습니다 -> 이쪽에서도 연결을 종료하겠습니다 -> 네. 알겠습니다

## UDP

- 신뢰성이 낮더라도 어찌 됐든 빠르게 데이터를 전송하는 것이 우선
- UDP 헤더를 추가한 애플리케이션 데이터를 UDP 데이터그램이라고 부른다.
- UDP 용도
    - 실시간 데이터를 전송할 때 
    - 여러 상대에게 같은 내용의 데이터를 전송할 때 
    - 데이터 전송 시 신뢰성이 필요하지 않은 소량의 데이터를 전송할 때

## 포트포워딩

- 포트를 개방함으로써 인터넷 쪽에서 먼저 통신을 시작하여 홈 네트워크 내부의 특정 PC에게 패킷을 보낼 수 있다.
- 인터넷 쪽에서 시작된 통신의 목적지 IP는 브로드밴드 라우터의 공인 IP로 지정된다.
- 브로드밴드 라우터는 이 목적지 IP 주소를 네트워크 내부의 특정 IP주소로 다시 변환하여 전송해준다.
- 홈 네트워크로부터 인터넷 쪽으로 향하는 통신의 경우 송신지의 IP 주소가 브로드밴드 라우터의 공인 IP 주소로 변환된다.

## DNS 라운드 로빈 방식의 통신 플로우

- 서버 어려 대를 효율적으로 운용하기 위해서 부하를 분산한다. 
- `부하분산 방식` 중에서 가장 간단한 것이 `라운드 로빈`
- 같은 호스트명에 대한 A 레코드가 여러 개 있다면, DNS 서버는 등록된 IP주소를 라운드 로빈(순서대로)으로 반환한다. 





 💡 참고 서적: 손으로 익히며 배우는 네트워크 첫걸음






