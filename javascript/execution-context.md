## ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸

- ì‹¤í–‰í•  ì½”ë“œì— ì œê³µí•  í™˜ê²½ ì •ë³´ë“¤ì„ ëª¨ì•„ë†“ì€ **ê°ì²´**
- ìë™ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ì „ì—­ê³µê°„ê³¼ evalì„ ì œì™¸í•˜ë©´ ìš°ë¦¬ê°€ í”íˆ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì€ **í•¨ìˆ˜ë¥¼ ì‹¤í–‰**í•˜ëŠ” ê²ƒë¿ì´ë‹¤.
- ì½œ ìŠ¤íƒì— ìŒ“ì•„ì˜¬ë¦°ë‹¤. 

### í™œì„±í™”ëœ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì˜ ìˆ˜ì§‘ ì •ë³´

- VariableEnvironment
- LexicalEnvironment
- ThisBinding

### VariableEnvironment

```
environmentRecord (snapshot)
outerEnvironmentReference (snapshot)
```

### LexicalEnvironment â­ï¸

```
environmentRecord // ì‹ë³„ì ì •ë³´ë“¤ì´ ì €ì¥ëœë‹¤. 
outerEnvironmentReference // ìŠ¤ì½”í”„, ìŠ¤ì½”í”„ ì²´ì¸
```

- ì‚¬ì „ì  í™˜ê²½
- ì»¨í…ìŠ¤íŠ¸ë¥¼ êµ¬ì„±í•˜ëŠ” í™˜ê²½ ì •ë³´ë“¤ì„ ì‚¬ì „ì—ì„œ ì ‘í•˜ëŠ” ëŠë‚Œìœ¼ë¡œ ëª¨ì•„ë†“ì€ ê²ƒ

#### environmentRecordì™€ í˜¸ì´ìŠ¤íŒ…

- í˜„ì¬ ì»¨í…ìŠ¤íŠ¸ì™€ ê´€ë ¨ëœ ì½”ë“œì˜ **ì‹ë³„ì ì •ë³´**ë“¤ì´ ì €ì¥ëœë‹¤.
- ì»¨í…ìŠ¤íŠ¸ ë‚´ë¶€ ì „ì²´ë¥¼ ì²˜ìŒë¶€í„° ëê¹Œì§€ í›‘ì–´ë‚˜ê°€ë©° ìˆœì„œëŒ€ë¡œ ìˆ˜ì§‘í•œë‹¤. 
- ë”°ë¼ì„œ 'ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ ì‹ë³„ìë“¤ì„ ìµœìƒë‹¨ìœ¼ë¡œ ëŒì–´ì˜¬ë ¤ë†“ì€ ë‹¤ìŒ ì‹¤ì œ ì½”ë“œë¥¼ ì‹¤í–‰í•œë‹¤.' ë¼ê³  ìƒê°í•˜ë”ë¼ë„ ì½”ë“œë¥¼ í•´ì„í•˜ëŠ” ë°ëŠ” ë¬¸ì œë  ê²ƒì´ ì „í˜€ ì—†ë‹¤.
- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì´ ì‹¤ì œë¡œ ëŒì–´ì˜¬ë¦¬ì§€ëŠ” ì•Šì§€ë§Œ í¸ì˜ìƒ ëŒì–´ì˜¬ë¦° ê²ƒìœ¼ë¡œ í‘œí˜„í•œë‹¤. 

##### ì‹¤í–‰ ê²°ê³¼ ì˜ˆìƒí•´ë³´ê¸°

```javascript
// ì›ë³¸ ì½”ë“œ
function a(x) {
    console.log(x); // 1

    var x; 

    console.log(x);  // 1

    var x = 2; 

    console.log(x); // 2
}

a(1);
```

```javascript
// í˜¸ì´ìŠ¤íŒ…ì„ ë§ˆì¹œ ìƒíƒœ
function a() {
    var x;
    var x; 
    var x;
    
    x = 1; 

    console.log(x); // 1 
    console.log(x);  // 1

    x = 2; 

    console.log(x); // 2
}

a(1);
```

```javascript
// ì›ë³¸ ì½”ë“œ
function a() {
    console.log(b); // b()
    var b = 'bbb';
    console.log(b); // 'bbb'
    function b() {}
    console.log(b); // 'bbb'
}

a(); 
```

```javascript
// í˜¸ì´ìŠ¤íŒ…ì„ ë§ˆì¹œ ìƒíƒœ
function a() {
    var b; // ë³€ìˆ˜ëŠ” ì„ ì–¸ë¶€ë§Œ ëŒì–´ì˜¬ë¦°ë‹¤. 
    var b = function b() {} // í•¨ìˆ˜ ì„ ì–¸ì€ ì „ì²´ë¥¼ ëŒì–´ì˜¬ë¦°ë‹¤. 

    console.log(b); // b()
    b = 'bbb';
    console.log(b); // 'bbb'
    console.log(b); // 'bbb'
}

a(); 
```

> í•¨ìˆ˜ ì„ ì–¸ë¬¸ì€ í° í˜¼ë€ì„ ì¼ìœ¼í‚¤ëŠ” ì›ì¸ì´ ë˜ê¸°ë„ í•œë‹¤.

##### í•¨ìˆ˜ ì„ ì–¸ë¬¸ì˜ ìœ„í—˜ì„±

```javascript
console.log(sum(3, 4)); // 3 + 4 = 7

function sum(x, y) {
    return x + y; 
}

var a = sum(1, 2);

function sum(x, y) {
    return `${x} + ${y} = ${x + y}`;
}

var c = sum(1, 2); // 1 + 2 = 3

console.log(c);
```

- ë™ì¼í•œ ë³€ìˆ˜ëª…ì— ì„œë¡œ ë‹¤ë¥¸ ê°’ì„ í• ë‹¹í•  ê²½ìš° ë‚˜ì¤‘ì— í• ë‹¹í•œ ê°’ì´ ë¨¼ì € í• ë‹¹í•œ ê°’ì„ ë®ì–´ì”Œìš´ë‹¤. (override)

##### ìƒëŒ€ì ìœ¼ë¡œ í•¨ìˆ˜ í‘œí˜„ì‹ì´ ì•ˆì „í•œë‹¤. 

```javascript
console.log(sum(3, 4)); // sum is not a function

var sum = function(x, y) {
    return x + y; 
}

var a = sum(1, 2);

var sum = function(x, y) {
    return `${x} + ${y} = ${x + y}`;
}

var c = sum(1, 2);

console.log(c);
```

- ë”ìš± ë¹ ë¥¸ íƒ€ì´ë°ì— ì†ì‰½ê²Œ ë””ë²„ê¹…í•  ìˆ˜ ìˆë‹¤. 












ğŸ’¡ ì°¸ê³  ìë£Œ

- [ë„ì„œ] ì½”ì–´ ìë°”ìŠ¤í¬ë¦½íŠ¸ 




